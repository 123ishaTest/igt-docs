(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{103:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return d}));var r=n(0),o=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=o.a.createContext({}),m=function(e){var t=o.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},p=function(e){var t=m(e.components);return o.a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},b=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,a=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=m(n),b=r,d=p["".concat(a,".").concat(b)]||p[b]||u[b]||i;return n?o.a.createElement(d,c(c({ref:t},l),{},{components:n})):o.a.createElement(d,c({ref:t},l))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=b;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,a[1]=c;for(var l=2;l<i;l++)a[l]=n[l];return o.a.createElement.apply(null,a)}return o.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},83:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return a})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return s})),n.d(t,"default",(function(){return m}));var r=n(2),o=n(6),i=(n(0),n(103)),a={id:"actions",title:"Actions"},c={unversionedId:"tools/actions",id:"tools/actions",isDocsHomePage:!1,title:"Actions",description:"Actions are of use for all games. Basically any operation that takes some time with some sort of outcome can be implemented as an Action.",source:"@site/docs/tools/actions.md",slug:"/tools/actions",permalink:"/igt-docs/docs/tools/actions",version:"current",sidebar:"docs",previous:{title:"Probability",permalink:"/igt-docs/docs/tools/probability"},next:{title:"Items",permalink:"/igt-docs/docs/tools/items"}},s=[{value:"Requirements",id:"requirements",children:[]},{value:"Usage",id:"usage",children:[]},{value:"Implementation",id:"implementation",children:[]},{value:"See also",id:"see-also",children:[]}],l={rightToc:s};function m(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,Object(i.b)("inlineCode",{parentName:"p"},"Actions")," are of use for all games. Basically any operation that takes some time with some sort of outcome can be implemented as an Action.\nActions can be repeated for when you want to gather resources, or singular when constructing a building.\nThere are also ",Object(i.b)("inlineCode",{parentName:"p"},"RecipeActions")," that take an input/output to transform items in your ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"../features/inventory"}),"Inventory"),"."),Object(i.b)("h2",{id:"requirements"},"Requirements"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Easy to implement custom behaviour"),Object(i.b)("li",{parentName:"ul"},"Allow repetition of actions"),Object(i.b)("li",{parentName:"ul"},"Notify when action is completed")),Object(i.b)("h2",{id:"usage"},"Usage"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),"const fishAction = new GainItemAction(ItemId.RawFish, 'Fish', 3, features.inventory, features.itemList);\n\nconst delta = 0.2;\nfishAction.perform(delta);\n")),Object(i.b)("h2",{id:"implementation"},"Implementation"),Object(i.b)("p",null,"We can create our custom Action by overriding the ",Object(i.b)("inlineCode",{parentName:"p"},"AbstractAction.ts"),".\nIf we want an action to reward an ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"/igt-docs/docs/tools/items"}),"Items")," for example."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts",metastring:'title="src/ig-template/actions/GainItemAction.ts"',title:'"src/ig-template/actions/GainItemAction.ts"'}),"export class GainItemAction extends AbstractAction {\n\n    itemId: ItemId;\n\n    _inventory: Inventory;\n    _itemList: ItemList;\n\n    constructor(itemId: ItemId, description: string, duration: number, inventory: Inventory, itemList: ItemList) {\n        super(description, duration);\n        this.itemId = itemId;\n        this._inventory = inventory;\n        this._itemList = itemList;\n    }\n\n    gainReward(): boolean {\n        this._inventory.gainItem(this._itemList[this.itemId]);\n        return true;\n    }\n\n}\n")),Object(i.b)("h4",{id:"events"},"Events"),Object(i.b)("h4",{id:"oncompletion"},"onCompletion"),Object(i.b)("p",null,"Emitted whenever this action is completed. Not that actions can be repeated and thus completed multiple times."),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-ts"}),'App.game.features.feature.action.onCompletion.subscribe(action => {\n    console.log("Completed", action.description);\n});\n')),Object(i.b)("h2",{id:"see-also"},"See also"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/123ishaTest/igt-library/tree/master/src/ig-template/tools/actions"}),"src/ig-template/tools/actions")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(r.a)({parentName:"li"},{href:"https://github.com/123ishaTest/igt-library/tree/master/src/ig-template/tools/actions/IgtAction.ts"}),"src/ig-template/tools/actions/IgtAction.ts"))))}m.isMDXComponent=!0}}]);